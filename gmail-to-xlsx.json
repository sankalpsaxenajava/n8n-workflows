"{
  ""name"": ""Order Management"",
  ""nodes"": [
    {
      ""parameters"": {
        ""operation"": ""append"",
        ""documentId"": {
          ""__rl"": true,
          ""value"": ""1y840dxj6HClrh-bYx7GZ16d-1dxVozXeC8UEZyxf7mg"",
          ""mode"": ""list"",
          ""cachedResultName"": ""Testing Shipping Orders"",
          ""cachedResultUrl"": ""https://docs.google.com/spreadsheets/d/1y840dxj6HClrh-bYx7GZ16d-1dxVozXeC8UEZyxf7mg/edit?usp=drivesdk""
        },
        ""sheetName"": {
          ""__rl"": true,
          ""value"": ""Incoming_emails"",
          ""mode"": ""name""
        },
        ""columns"": {
          ""mappingMode"": ""autoMapInputData"",
          ""value"": {},
          ""matchingColumns"": [],
          ""schema"": [],
          ""attemptToConvertTypes"": false,
          ""convertFieldsToString"": false
        },
        ""options"": {}
      },
      ""id"": ""8e97ea58-cd16-41bd-923d-d147b46c7c8c"",
      ""name"": ""Google Sheets"",
      ""type"": ""n8n-nodes-base.googleSheets"",
      ""position"": [
        680,
        -240
      ],
      ""typeVersion"": 4.5,
      ""credentials"": {
        ""googleSheetsOAuth2Api"": {
          ""id"": ""YOHI4MJjH0u1IQwY"",
          ""name"": ""Google Sheets account 2""
        }
      }
    },
    {
      ""parameters"": {
        ""pollTimes"": {
          ""item"": [
            {
              ""mode"": ""everyMinute""
            }
          ]
        },
        ""filters"": {
          ""labelIds"": [
            ""Label_36975995617291462""
          ]
        }
      },
      ""id"": ""fc777da1-4964-4ab7-921b-93aeff9968c8"",
      ""name"": ""Gmail Trigger1"",
      ""type"": ""n8n-nodes-base.gmailTrigger"",
      ""position"": [
        -160,
        -240
      ],
      ""notesInFlow"": true,
      ""typeVersion"": 1.2,
      ""credentials"": {
        ""gmailOAuth2"": {
          ""id"": ""bocWvFZCQxwuJmno"",
          ""name"": ""Gmail-saiatesting-2""
        }
      },
      ""notes"": ""Gmail Trigger\n""
    },
    {
      ""parameters"": {
        ""operation"": ""append"",
        ""documentId"": {
          ""__rl"": true,
          ""value"": ""1y840dxj6HClrh-bYx7GZ16d-1dxVozXeC8UEZyxf7mg"",
          ""mode"": ""list"",
          ""cachedResultName"": ""Testing Shipping Orders"",
          ""cachedResultUrl"": ""https://docs.google.com/spreadsheets/d/1y840dxj6HClrh-bYx7GZ16d-1dxVozXeC8UEZyxf7mg/edit?usp=drivesdk""
        },
        ""sheetName"": {
          ""__rl"": true,
          ""value"": ""Incoming_emails"",
          ""mode"": ""name""
        },
        ""columns"": {
          ""mappingMode"": ""autoMapInputData"",
          ""value"": {},
          ""matchingColumns"": [],
          ""schema"": [
            {
              ""id"": ""fname"",
              ""displayName"": ""fname"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""lname"",
              ""displayName"": ""lname"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""email"",
              ""displayName"": ""email"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""phone"",
              ""displayName"": ""phone"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""company_name"",
              ""displayName"": ""company_name"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""address"",
              ""displayName"": ""address"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""po_number"",
              ""displayName"": ""po_number"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""ship_date"",
              ""displayName"": ""ship_date"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""cargo_units"",
              ""displayName"": ""cargo_units"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""gross_weight"",
              ""displayName"": ""gross_weight"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""cargo_value"",
              ""displayName"": ""cargo_value"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""origin"",
              ""displayName"": ""origin"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""final_destination"",
              ""displayName"": ""final_destination"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""incoterms"",
              ""displayName"": ""incoterms"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""commodity"",
              ""displayName"": ""commodity"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""service_requirements"",
              ""displayName"": ""service_requirements"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""important_notes"",
              ""displayName"": ""important_notes"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""phone\t"",
              ""displayName"": ""phone\t"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""address\t"",
              ""displayName"": ""address\t"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""cargo_value\t"",
              ""displayName"": ""cargo_value\t"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""origin\t"",
              ""displayName"": ""origin\t"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""important_notes\t"",
              ""displayName"": ""important_notes\t"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""id"",
              ""displayName"": ""id"",
              ""required"": false,
              ""defaultMatch"": true,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""threadId"",
              ""displayName"": ""threadId"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""snippet"",
              ""displayName"": ""snippet"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""payload"",
              ""displayName"": ""payload"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""sizeEstimate"",
              ""displayName"": ""sizeEstimate"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""historyId"",
              ""displayName"": ""historyId"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""internalDate"",
              ""displayName"": ""internalDate"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""labels"",
              ""displayName"": ""labels"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""From"",
              ""displayName"": ""From"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""Subject"",
              ""displayName"": ""Subject"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""To"",
              ""displayName"": ""To"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            },
            {
              ""id"": ""labelIds"",
              ""displayName"": ""labelIds"",
              ""required"": false,
              ""defaultMatch"": false,
              ""display"": true,
              ""type"": ""string"",
              ""canBeUsedToMatch"": true,
              ""removed"": false
            }
          ],
          ""attemptToConvertTypes"": false,
          ""convertFieldsToString"": false
        },
        ""options"": {}
      },
      ""id"": ""527b5728-744c-4e01-9902-4b979de4afde"",
      ""name"": ""Google Sheets1"",
      ""type"": ""n8n-nodes-base.googleSheets"",
      ""position"": [
        420,
        80
      ],
      ""typeVersion"": 4.5,
      ""credentials"": {
        ""googleSheetsOAuth2Api"": {
          ""id"": ""YOHI4MJjH0u1IQwY"",
          ""name"": ""Google Sheets account 2""
        }
      }
    },
    {
      ""parameters"": {
        ""pollTimes"": {
          ""item"": [
            {
              ""mode"": ""everyMinute""
            }
          ]
        },
        ""filters"": {
          ""labelIds"": [
            ""Label_36975995617291462""
          ]
        }
      },
      ""id"": ""8874af1c-cb74-4b8c-9b1e-df08296aacc3"",
      ""name"": ""Gmail Trigger"",
      ""type"": ""n8n-nodes-base.gmailTrigger"",
      ""position"": [
        -100,
        80
      ],
      ""notesInFlow"": true,
      ""typeVersion"": 1.2,
      ""credentials"": {
        ""gmailOAuth2"": {
          ""id"": ""bocWvFZCQxwuJmno"",
          ""name"": ""Gmail-saiatesting-2""
        }
      },
      ""notes"": ""Gmail Trigger\n""
    },
    {
      ""parameters"": {
        ""inputText"": ""=Subject: {{ $json.Subject }}\nEmail body: {{ $json.snippet }}"",
        ""categories"": {
          ""categories"": [
            {
              ""category"": ""Shipping"",
              ""description"": ""This is any email that is coming from clients that are asking question about shipping or placing orders for shipping.\t\t""
            }
          ]
        },
        ""options"": {}
      },
      ""type"": ""@n8n/n8n-nodes-langchain.textClassifier"",
      ""typeVersion"": 1,
      ""position"": [
        80,
        -240
      ],
      ""id"": ""5b3bc329-7553-4260-92c5-7470d530b216"",
      ""name"": ""Text Classifier""
    },
    {
      ""parameters"": {
        ""model"": {
          ""__rl"": true,
          ""mode"": ""list"",
          ""value"": ""gpt-4o-mini""
        },
        ""options"": {}
      },
      ""type"": ""@n8n/n8n-nodes-langchain.lmChatOpenAi"",
      ""typeVersion"": 1.2,
      ""position"": [
        80,
        -80
      ],
      ""id"": ""abce948e-f577-4520-8879-722c1a21be3e"",
      ""name"": ""OpenAI Chat Model"",
      ""credentials"": {
        ""openAiApi"": {
          ""id"": ""FSp3XfHfyavDX0cy"",
          ""name"": ""OpenAi account -  sp10 ""
        }
      }
    },
    {
      ""parameters"": {
        ""operation"": ""addLabels"",
        ""messageId"": ""={{ $('Gmail Trigger').item.json.id }}"",
        ""labelIds"": [
          ""Label_36975995617291462""
        ]
      },
      ""type"": ""n8n-nodes-base.gmail"",
      ""typeVersion"": 2.1,
      ""position"": [
        480,
        -240
      ],
      ""id"": ""4c54fcb3-ecb8-4eff-83ef-284898619943"",
      ""name"": ""Shipping1"",
      ""webhookId"": ""f62f42f1-9d69-44da-af10-2118e8883d84"",
      ""credentials"": {
        ""gmailOAuth2"": {
          ""id"": ""bocWvFZCQxwuJmno"",
          ""name"": ""Gmail-saiatesting-2""
        }
      }
    },
    {
      ""parameters"": {
        ""jsCode"": ""const items = [];\nfor (const item of $input.all()) {\n  const body = item.json.payload?.parts?.[0]?.body?.data || '';\n  const decoded = Buffer.from(body, 'base64').toString('utf8');\n  const lines = decoded.split('\\n').map(line => line.trim()).filter(line => line);\n  const data = {};\n  for (const line of lines) {\n    const [key, ...rest] = line.split(':');\n    if (key && rest.length) {\n      data[key.trim().toLowerCase().replace(/ /g, '_')] = rest.join(':').trim();\n    }\n  }\n  items.push({ json: data });\n}\nreturn items;""
      },
      ""type"": ""n8n-nodes-base.code"",
      ""typeVersion"": 2,
      ""position"": [
        180,
        80
      ],
      ""id"": ""50b44d71-446d-4668-adce-d9a806282662"",
      ""name"": ""Code""
    }
  ],
  ""pinData"": {},
  ""connections"": {
    ""Google Sheets"": {
      ""main"": [
        []
      ]
    },
    ""Gmail Trigger1"": {
      ""main"": [
        [
          {
            ""node"": ""Text Classifier"",
            ""type"": ""main"",
            ""index"": 0
          }
        ]
      ]
    },
    ""Gmail Trigger"": {
      ""main"": [
        [
          {
            ""node"": ""Code"",
            ""type"": ""main"",
            ""index"": 0
          }
        ]
      ]
    },
    ""OpenAI Chat Model"": {
      ""ai_languageModel"": [
        [
          {
            ""node"": ""Text Classifier"",
            ""type"": ""ai_languageModel"",
            ""index"": 0
          }
        ]
      ]
    },
    ""Text Classifier"": {
      ""main"": [
        [
          {
            ""node"": ""Shipping1"",
            ""type"": ""main"",
            ""index"": 0
          }
        ]
      ]
    },
    ""Shipping1"": {
      ""main"": [
        [
          {
            ""node"": ""Google Sheets"",
            ""type"": ""main"",
            ""index"": 0
          }
        ]
      ]
    },
    ""Code"": {
      ""main"": [
        [
          {
            ""node"": ""Google Sheets1"",
            ""type"": ""main"",
            ""index"": 0
          }
        ]
      ]
    }
  },
  ""active"": true,
  ""settings"": {
    ""executionOrder"": ""v1""
  },
  ""versionId"": ""35a65485-62d3-4d4d-98bd-ac2e74bc8308"",
  ""meta"": {
    ""templateCredsSetupCompleted"": true,
    ""instanceId"": ""fde5d66f7879e6f4b5ec097adc1d9088718db7fe410079a2772107c044eb6284""
  },
  ""id"": ""AGBE78y7MMmhOLNG"",
  ""tags"": []
}"